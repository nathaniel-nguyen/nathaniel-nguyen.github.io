<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Realtor Marketing Insights From Zillow Data</title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        .tooltip {
            position: absolute;
            text-align: center;
            width: 120px;
            height: auto;
            padding: 2px;
            font: 12px sans-serif;
            background: lightsteelblue;
            border: 0px;
            border-radius: 8px;
            pointer-events: none;
            opacity: 0;
        }

        .line {
            fill: none;
            stroke: steelblue;
            stroke-width: 2px;
        }

        .axis-label {
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div style="text-align: center;"><h2>Realtor Marketing Insights From Zillow Data</h2></div>
    <p><strong>About the Data</strong>: The data was scraped from Zillow.com by Professor Daniel M. Ringel from KFBS.</p>
    <p>It was provided in my other class and I thought it would be interesting to use here. The data contains a wide</p>
    <p>variety of properties, there's also a lot of missing data, and outliers for some numerical metrics. I</p>
    <p>will try my best to clean the data, and give the most accurate visualizations that I can. The data will be </p>
    <p>provided in the class GitHub repository.</p>
    <br>
    <p><strong>Story</strong>: I work for a Chapel Hill real estate agency. I've acquired a large dataset that has</p>
    <p>over 18,000 property listings on Zillow.com for Chapel Hill. The data is very rich and comprises of</p>
    <p>many property features like last date sold, mortgage rates, price when sold, etc. My task is to<p>
    <p>analyze the data and extract valuable insights from them for the agency I work for.</p>
    <br>
    <p><strong>Question</strong>: As a data scientist, how can I help a Chapel Hill real estate agency save resources</p>
    <p>by finding households that I estimate will sell soon?</p>
    <br>
    <!-- generated with the assistance of chatgpt -->
    <svg width="800" height="520"></svg>
    <div class="tooltip"></div>
    <script>
        const data = [{"year":1944.0,"price":392800.0*0.06}, {"year":1964.0,"price":524500.0*0.06},{"year":1966.0,"price":556300.0*0.06},{"year":1967.0,"price":464900.0*0.06},{"year":1969.0,"price":528150.0*0.06},{"year":1970.0,"price":563600.0*0.06},{"year":1971.0,"price":618100.0*0.06},{"year":1972.0,"price":614650.0*0.06},{"year":1973.0,"price":554327.2727272727*0.06},{"year":1974.0,"price":543900.0*0.06},{"year":1975.0,"price":627933.3333333334*0.06},{"year":1976.0,"price":510450.0*0.06},{"year":1977.0,"price":482600.0*0.06},{"year":1978.0,"price":496933.3333333333*0.06},{"year":1979.0,"price":506344.4444444444*0.06},{"year":1980.0,"price":513163.6363636364*0.06},{"year":1981.0,"price":620300.0*0.06},{"year":1983.0,"price":555766.6666666666*0.06},{"year":1984.0,"price":571441.1764705882*0.06},{"year":1985.0,"price":627625.0*0.06},{"year":1986.0,"price":578334.7826086957*0.06},{"year":1987.0,"price":605793.75*0.06},{"year":1988.0,"price":590623.9130434783*0.06},{"year":1990.0,"price":638495.5555555555*0.06},{"year":1991.0,"price":632100.0*0.06},{"year":1992.0,"price":618778.2608695652*0.06},{"year":1993.0,"price":688729.8245614035*0.06},{"year":1994.0,"price":617810.6060606061*0.06},{"year":1995.0,"price":627193.4426229508*0.06},{"year":1996.0,"price":634332.4675324676*0.06},{"year":1997.0,"price":614673.3247863248*0.06},{"year":1998.0,"price":616471.0810810811*0.06},{"year":1999.0,"price":661170.7941176471*0.06},{"year":2000.0,"price":654988.8670520231*0.06},{"year":2001.0,"price":679487.3938356164*0.06},{"year":2002.0,"price":657145.0150943396*0.06},{"year":2003.0,"price":646043.8908450705*0.06},{"year":2004.0,"price":691686.0854700855*0.06},{"year":2005.0,"price":710091.6387434555*0.06},{"year":2006.0,"price":702916.3883792049*0.06},{"year":2007.0,"price":780403.6932515338*0.06},{"year":2008.0,"price":677402.734375*0.06},{"year":2009.0,"price":665634.3461538461*0.06},{"year":2010.0,"price":649294.5909090909*0.06},{"year":2011.0,"price":713924.1482649843*0.06},{"year":2012.0,"price":693431.1881188119*0.06},{"year":2013.0,"price":690627.3955375253*0.06},{"year":2014.0,"price":729760.8935281837*0.06},{"year":2015.0,"price":694941.9032815199*0.06},{"year":2016.0,"price":717548.7380585516*0.06},{"year":2017.0,"price":698806.4504249291*0.06},{"year":2018.0,"price":665398.8805620609*0.06},{"year":2019.0,"price":664733.1786163521*0.06},{"year":2020.0,"price":610542.8221436985*0.06},{"year":2021.0,"price":582267.6246334311*0.06},{"year":2022.0,"price":665967.9479418886*0.06},{"year":2023.0,"price":598876.6732673268*0.06}];

        const margin = {top: 20, right: 30, bottom: 30, left: 80},
              width = 800 - margin.left - margin.right,
              height = 500 - margin.top - margin.bottom;

        const svg = d3.select("svg")
                      .attr("viewBox", `0 0 800 500`)
                      .append("g")
                      .attr("transform",
                            "translate(" + margin.left + "," + margin.top + ")");

        const x = d3.scaleLinear()
                    .domain(d3.extent(data, d => d.year))
                    .range([0, width]);

        const y = d3.scaleLinear()
                    .domain([0, d3.max(data, d => d.price)])
                    .range([height, 0]);

        svg.append("g")
           .attr("transform", "translate(0," + height + ")")
           .call(d3.axisBottom(x).tickFormat(d3.format("d")));

        svg.append("g")
           .call(d3.axisLeft(y));

        svg.append("path")
           .datum(data)
           .attr("class", "line")
           .attr("d", d3.line()
                        .x(d => x(d.year))
                        .y(d => y(d.price))
           );

        svg.append("text")
           .attr("class", "axis-label")
           .attr("text-anchor", "end")
           .attr("x", width/2 + 10)
           .attr("y", height + margin.top + 15)
           .text("Year");

           svg.append("text")
           .attr("class", "axis-label")
           .attr("text-anchor", "end")
           .attr("transform", "rotate(-90)")
           .attr("y", -margin.left + 20)
           .attr("x", -margin.top - height/2 + 130)
           .text("Profit from Average Price of Home ($)");

        const tooltip = d3.select(".tooltip");

        svg.selectAll(".dot")
           .data(data)
           .enter().append("circle")
           .attr("class", "dot")
           .attr("cx", d => x(d.year))
           .attr("cy", d => y(d.price))
           .attr("r", 5)
           .on("mouseover", (event, d) => {
               tooltip.transition()
                      .duration(200)
                      .style("opacity", .9);
               tooltip.html(`Year: ${d.year}<br/>Profit: $${Math.round(d.price)}`)
                      .style("left", (event.pageX) + "px")
                      .style("top", (event.pageY - 28) + "px");
           })
           .on("mouseout", d => {
               tooltip.transition()
                      .duration(500)
                      .style("opacity", 0);
           });
    </script>
  <p><strong>Figure 1</strong>: This visualization shows an interactive line graph that shows an increase over time of the profit gained when selling at the average market price of a house in Chapel Hill at a given year. The profit is calculated by getting the product of the price of average house at a certain year and the average % gain of a real estate agent according to online resources. Note that the average price of the house before 2000 had a lot of missing data which is why it appears higher than one may expect, profit is skewed higher as a result for years before 2000. The reason why I made a line graph about the profits over time is to show the relationship and how it is beneficial for real estate agents to be in the business as time goes on; moreover, the average price of houses in Chapel Hill are increasing and so is the profit to be made. I believe it is important to know how much you are making, and if you can look back and see an increase in profit, then business is good to continue. You can interact with the graph by hovering over individual data points to see the average profit made in a given year by selling a house in Chapel Hill.</p>
  <br>
  <div style="margin-left: 25;"><img src="clusters_on_map.png" height="540"></div>
  <p><strong>Figure 2</strong>: This visualization shows clusters of properties based on geographic location as the centroid. K-means clustering, a model learned in my other class, was used here. The elbow method was used to find the optimal number of clusters needed to make a valid analysis which is the reason why there are seven groups specifically. Key metrics of properties, like price or square footage, are closely tied with where they are located geographically. For example, properties in New York are so much more expensive than properties here. Thus, breaking down properties based on where they are located in Chapel Hill is necessary in my model to help answer the question of finding households that I estimate will sell soon. As you can see the properties cover even locations outside of Chapel Hill, this may be due to errors in cleaning up the data, or inaccurate webscraping by Professor Daniel M. Ringel.</p>
  <br>
  <div style="margin-left: 25;"><img src="clusters_histogram_data.png" width="600"></div>
  <p><strong>Figure 3</strong>: This visualization shows the average price, average time owned, and average mortgage rate of the seven clusters that we calculated above. When it comes to the average price of a home or property, as a real estate agency, you want to look for the highest average price, as that means more profit can be made, in this case, group 2 is the best place to market in terms of profitability. Looking at the two other graphs, time owned and mortgage rate are very important metrics in estimating when a property owner might sell soon. Looking at the 2nd graph, group 2 and 4 have the highest mean time owned. How long someone has owned a property for is directly correlated with how much equity one has in their property. Thus, if a property owner knows that they have a lot of equity then they are more likely to sell. Last but not least, you want to find an owner with a higher mortgage rate, according to online sources like Investopedia, property owners are twice as likely to sell if they have a very high rate than compared to a very low rate. Group 2, 3, 5, and 7 are atleast 6.15% for the mortgage rate.</p>
  <br>
  <p><strong>Conclusion</strong>: Taking into account everything, being a real estate agency in Chapel Hill is a profitable profession and according to the first visualization it will only get better. After analyzing the third visualization, I came to the conclusion that group 2 or cluster 2, the cluster in blue in the second visualization, is the best when it comes to maximizing profitability and finding houses that I estimate will sell soon or are likely to. I would like to note that althought I found the best geographic area within Chapel Hill to find houses to market to, I did not have enough time to do a further analysis within group 2. The same process can be applied to subgroups within group 2 to find specific neighborhoods or even a street to market to. After doing this assignment, I learned a lot about the importance of visualization especially when it comes to trying to help out a stakeholder.</p>
</body>
</html>